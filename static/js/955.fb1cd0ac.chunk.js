"use strict";(self.webpackChunkjaze=self.webpackChunkjaze||[]).push([[955],{2955:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var s=a(5043),n=a(3910);const i={albumContainer:"Tops_albumContainer__lc-d1",faIcon:"Tops_faIcon__7oh7p"};var l=a(7929),r=a(8574),c=a(697);const o="AlbumCard_albumCard__DZu2o",d="AlbumCard_albumImage__jtD6n",u="AlbumCard_caption__4Hc5y",m="AlbumCard_container__DtPfu";var h=a(892),v=a(2301),x=a(579);const p=e=>{let{src:t,alt:a,caption:i,type:l}=e;const[r,c]=(0,s.useState)("");return(0,s.useEffect)((()=>{(async()=>{const e=await(0,v.J)(l,i);c(e.toString())})()}),[l,i]),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:o,onClick:()=>window.location.href=r,children:[(0,x.jsx)("img",{src:t,alt:a,className:d}),(0,x.jsxs)("div",{className:m,children:[(0,x.jsx)(n.g,{icon:h.QEP}),(0,x.jsx)("span",{className:u,children:i})]})]})})};var j=a(7664),f=a(3274);const g="UserCard_userCard__pHAc1",_="UserCard_userImage__zJNy5",w="UserCard_container__VOb-o",y="UserCard_link__AfC7i",b=e=>{var t,a;let{src:s,alt:i}=e;const{getItem:l}=(0,j.M)(),r=JSON.parse(l("SpotifyUserData")||"{}"),c=JSON.parse(l("lastFMUserData")||"{}");return(0,x.jsxs)("div",{className:g,children:[(0,x.jsx)("img",{src:s,alt:i,className:_}),(0,x.jsxs)("div",{className:w,children:[(0,x.jsx)(n.g,{icon:h.QEP}),null!==(t=r.external_urls)&&void 0!==t&&t.spotify?(0,x.jsxs)("a",{href:r.external_urls.spotify,className:y,children:["Spotify: ",r.display_name]},"spotify-link"):(0,x.jsx)("span",{className:y,children:" Spotify: Not Logged In"})]}),(0,x.jsxs)("div",{className:w,children:[(0,x.jsx)(n.g,{icon:h.sO_}),null!==(a=c.user)&&void 0!==a&&a.url?(0,x.jsxs)("a",{href:c.user.url,className:y,children:["Last.FM: ",c.user.name]},"lastfm-link"):(0,x.jsx)("span",{className:y,children:" Last.FM: Not Logged In"})]})]})},N=()=>{var e,t,a;const{getItem:o}=(0,j.M)(),{setTitle:d}=(0,f.B)(),u=JSON.parse(o("lastFMAlbumData")),m=JSON.parse(o("lastFMArtistData")),g=JSON.parse(o("lastFMTrackData")),_=JSON.parse(o("lastFMUserData")),w=JSON.parse(o("SpotifyUserData")),y=parseInt((null===_||void 0===_||null===(e=_.user)||void 0===e?void 0:e.playcount)||"0",10),N=e=>new Intl.NumberFormat(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}).format(e);(0,s.useEffect)((()=>{d("Tops")}),[d]);const F=e=>{var t;return(null===(t=e.find((e=>"large"===e.size)))||void 0===t?void 0:t["#text"])||""},C=null===w||void 0===w||null===(t=w.images)||void 0===t||null===(a=t[1])||void 0===a?void 0:a.url,D=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||0===e.length)return(0,x.jsxs)("p",{children:["No ",t," data available."]});const s=("artist"===t?null===e||void 0===e?void 0:e.topartists:"album"===t?null===e||void 0===e?void 0:e.topalbums:null===e||void 0===e?void 0:e.toptracks)[t].slice(0,a?10:9);return a?S(s,(async(e,a)=>{a.preventDefault(),window.location.href=await(0,v.J)(t,e.name)})):A(s,t)},S=(e,t)=>(0,x.jsx)(r.A,{data:e.map(((e,a)=>{return["".concat(a+1),(0,x.jsx)("span",{children:e.name}),(0,x.jsxs)("span",{className:i.link,children:[N(+e.playcount)," scrobbles (",(s=+e.playcount/y*100,new Intl.NumberFormat(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}).format(s)),"%)"]}),(0,x.jsx)(n.g,{href:"#",icon:h.QEP,onClick:a=>t(e,a),className:"styles.faIcon"}),(0,x.jsx)(n.g,{icon:h.CR2,onClick:t=>window.location.href=e.url,className:"styles.faIcon"})];var s}))}),A=(e,t)=>(0,x.jsx)("div",{className:i.albumContainer,children:e.slice(...{track:[0,3],artist:[3,6],album:[6,9]}[t]).map((e=>(0,x.jsx)(p,{src:F(null===e||void 0===e?void 0:e.image),alt:e.name,caption:e.name,type:t},e.name)))});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.A,{title:"Top Stats",viewFrames:[{content:(0,x.jsxs)(x.Fragment,{children:[D(m,"artist"),D(m,"artist",!0),(0,x.jsxs)("div",{className:"titleContainer",children:[(0,x.jsx)("h1",{children:"Your Top Artists"}),(0,x.jsx)("h3",{children:"of all time"})]})]}),viewWidth:100},{content:(0,x.jsxs)(x.Fragment,{children:[D(u,"album"),D(u,"album",!0),(0,x.jsxs)("div",{className:"titleContainer",children:[(0,x.jsx)("h1",{children:"Your Top Albums"}),(0,x.jsx)("h3",{children:"of all time"})]})]}),viewWidth:100}]}),(0,x.jsx)(c.A,{viewFrames:[{content:(0,x.jsxs)(x.Fragment,{children:[D(g,"track"),D(g,"track",!0),(0,x.jsxs)("div",{className:"titleContainer",children:[(0,x.jsx)("h1",{children:"Your Top Tracks "}),(0,x.jsx)("h3",{children:"of all time"})]})]}),viewWidth:100},{content:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:i.albumContainer,children:[(0,x.jsx)(b,{src:C,alt:"User"},"userImage"),(()=>{var e,t,a,s;if(!_||!_.user)return(0,x.jsx)("p",{children:"No data available."});const i=new Date(1e3*(null===(e=_.user.registered)||void 0===e?void 0:e.unixtime)||Date.now()),c=[[(0,x.jsx)(n.g,{icon:l.Ge5},"country-icon"),"Country",_.user.country],[(0,x.jsx)(n.g,{icon:l.BEE},"user-since-icon"),"User Since","".concat(new Date(1e3*(null===(t=_.user.registered)||void 0===t?void 0:t.unixtime)||Date.now()).toLocaleDateString()," (").concat((new Date).getFullYear()-i.getFullYear()," years)")],[(0,x.jsx)(n.g,{icon:l.Bib},"playcount-icon"),"Total Scrobbles",N(y)],[(0,x.jsx)(n.g,{icon:l.gdJ},"playcount-icon"),"Followers",N(parseInt((null===w||void 0===w||null===(a=w.followers)||void 0===a?void 0:a.total)||"0",10)+parseInt((null===_||void 0===_||null===(s=_.user)||void 0===s?void 0:s.subscriber)||"0",10))]];return(0,x.jsx)(r.A,{data:c})})()]}),(0,x.jsxs)("div",{className:"titleContainer",children:[(0,x.jsx)("h1",{children:"Your Profile"}),(0,x.jsx)("h3",{children:"Information"})]})]}),viewWidth:100}]})]})}},697:(e,t,a)=>{a.d(t,{A:()=>m});var s=a(5043),n=a(8139),i=a.n(n);const l="ViewFrame_viewFrame__ZU2oo",r="ViewFrame_empty__6Vyig",c={viewSection:"ViewSection_viewSection__lYpQo"};var o=a(579);const d=e=>{let{children:t,style:a}=e;const n=0===s.Children.count(t)?c.viewSectionEmpty:c.viewSection;return(0,o.jsx)("div",{className:n,style:a,children:t})},u=e=>{let{children:t,splitPercentage:a=100}=e;const n=(0,s.useRef)(null),[c,u]=(0,s.useState)(a),[m,h]=s.Children.toArray(t).slice(0,2),v=(e=>{const t=s.Children.toArray(e);return 0===t.length||t.every((e=>s.isValidElement(e)&&e.type===s.Fragment&&0===s.Children.count(e.props.children)))})([m,h]),x=()=>{if(n.current){const e=n.current.offsetWidth,t=0,s=1800;let i=Math.max(t,Math.min(s,e*(a/100)))/e*100;u(i)}};return(0,s.useEffect)((()=>(x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x))),[a]),(0,o.jsxs)("div",{ref:n,className:i()(l,{[r]:v}),children:[(0,o.jsx)(d,{style:{width:"".concat(c,"%")},children:m}),(0,o.jsx)(d,{style:{width:"".concat(100-c,"%")},children:h})]})},m=e=>{let{viewFrames:t}=e;const a=(100-t.reduce(((e,t)=>{let{viewWidth:a}=t;return e+(a||0)}),0))/t.filter((e=>{let{viewWidth:t}=e;return void 0===t})).length;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("section",{style:{display:"flex",flexDirection:"row"},children:t.map(((e,t)=>(0,o.jsx)(u,{splitPercentage:e.viewWidth||a,children:e.content},t)))})})}},8574:(e,t,a)=>{a.d(t,{A:()=>i});a(5043);const s={table:"DisplayTable_table__wz8iq",cell:"DisplayTable_cell__FEVfS"};var n=a(579);const i=e=>{let{data:t}=e;return 0===t.length||t.length>0&&0===t[0].length?(0,n.jsx)("div",{children:"No data available"}):(0,n.jsx)("table",{className:s.table,children:(0,n.jsx)("tbody",{children:t.map(((e,t)=>(0,n.jsx)("tr",{children:e.map(((e,a)=>(0,n.jsx)("td",{className:"".concat(s.cell," ").concat(0===a?s.boldText:""),children:e},"cell-".concat(t,"-").concat(a))))},"row-".concat(t))))})})}},2301:(e,t,a)=>{a.d(t,{J:()=>n});var s=a(3819);const n=async(e,t)=>{const{fetchSpotifyData:a}=(0,s.v)();return await a(e,t)}}}]);
//# sourceMappingURL=955.fb1cd0ac.chunk.js.map