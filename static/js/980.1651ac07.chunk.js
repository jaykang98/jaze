/*! For license information please see 980.1651ac07.chunk.js.LICENSE.txt */
(self.webpackChunkjaze=self.webpackChunkjaze||[]).push([[980],{6980:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var r=a(5043),n=a(2866);const s="OptionList_optionList__0VtRw";var i=a(579);const o=e=>{let{options:t,dataType:a}=e;const[o,l]=(0,r.useState)(t),c=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const e=()=>{if(c.current){const e=c.current.offsetWidth;let a=0,r=0;t.forEach(((t,n)=>{a+150<=e&&(a+=150,r++)})),l(t.slice(0,r))}};e();const a=new ResizeObserver(e);return c.current&&a.observe(c.current),()=>{a.disconnect()}}),[t]),Array.isArray(t)?t.length?(0,i.jsx)("div",{ref:c,className:s,children:o.map(((e,t)=>(0,i.jsx)(n.A,{dataType:a,onClick:t=>{const r=document.querySelector("input[datatype='".concat(a,"']"));r&&(r.value=e.value)},children:e.key},t)))}):null:(console.error('OptionList component expects "options" prop to be an array.'),null)},l="Input_inputField__3UHLs",c=e=>{let{id:t,type:a,name:r,value:n,placeholder:s,onChange:o,dataType:c,style:u}=e;return(0,i.jsx)("input",{id:t,type:a,name:r,value:n,placeholder:s,className:l,onChange:o,datatype:c,style:u})},u={timestampSelector:"TimestampSelector_timestampSelector__D1g4s",timeLabel:"TimestampSelector_timeLabel__+42R1"},d=e=>{let{timestamp:t,label:a,onOptionSelect:n}=e;const[s,l]=r.useState(t),d=r.useMemo((()=>(new Date).getFullYear()),[]),p=a.includes("Start")?"yearStart":"yearEnd",[m,y]=r.useState(null),h=e=>{if("yearEnd"===p){const t=new Date(s).getFullYear();if(new Date(e).getFullYear()<t)return y("YearEnd cannot be earlier than YearStart."),!1}else if("yearStart"===p){const t=new Date(s).getFullYear();if(new Date(e).getFullYear()>t)return y("YearStart cannot be later than YearEnd."),!1}return!0},v=r.useMemo((()=>Array.from({length:10},((e,t)=>{const a=d-t,r=new Date("".concat(a,"-01-01")).toISOString().slice(0,10);return{key:"".concat(a),dataType:p,value:r,label:r,onClick:()=>{var e;h(e=r)&&(l(e),y(null),n&&n(e))}}}))),[d,p]);return(0,i.jsxs)("div",{className:u.timestampSelector,children:[(0,i.jsx)("span",{className:u.timeLabel,children:a}),(0,i.jsx)(c,{id:a,type:"date",value:s,dataType:p,onChange:e=>{const t=e.target.value;h(t)&&(l(t),y(null),n&&n(t))},style:{borderColor:m?"red":void 0}}),m&&(0,i.jsx)("p",{className:u.errorText,children:m}),(0,i.jsx)(o,{dataType:p,options:v})]})};var p=a(9672);const m="CriteriaSelector_criteriaSelector__s89+E",y=e=>{let{selectionType:t,setSelectionType:a,formData:n,setFormData:s,albumData:l,artistData:u,trackData:d}=e;const[p,y]=(0,r.useState)([]);(0,r.useEffect)((()=>{let e=[];switch(t){case"album":e=(null===l||void 0===l?void 0:l.topalbums.album.map((e=>({value:e.name,key:e.name,datatype:"album"}))))||[];break;case"artist":e=(null===u||void 0===u?void 0:u.topartists.artist.map((e=>({value:e.name,key:e.name,datatype:"artist"}))))||[];break;case"track":e=(null===d||void 0===d?void 0:d.toptracks.track.map((e=>({value:e.name,key:e.name,datatype:"track"}))))||[]}y(e)}),[l,u,d,t]);const h=(0,i.jsx)("select",{value:t,onChange:e=>{const t=e.target.value;a(t)},children:["artist","album","track"].map((e=>(0,i.jsx)("option",{value:e,title:"Criteria",children:e.charAt(0).toUpperCase()+e.slice(1)},e)))});return(0,i.jsxs)("div",{className:m,children:[h,(0,i.jsx)(c,{id:t,dataType:t,name:t,value:n[t]||"",onChange:e=>{const{name:t,value:a}=e.target;s((e=>({...e,[t]:a})))},placeholder:"Enter ".concat(t),type:""}),(0,i.jsx)(o,{options:p,dataType:t})]})},h=e=>{let{formData:t,setFormData:a,userID:s}=e;const{albumData:o,artistData:l,trackData:c}=(0,p.S)(s),[u,m]=(0,r.useState)("artist");return(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Selection Type: ".concat(u,", Start Time: ").concat(t.startTimestamp,", End Time: ").concat(t.endTimestamp))},id:"GenerateVisForm",children:[(0,i.jsx)(y,{selectionType:u,setSelectionType:m,formData:t,setFormData:a,albumData:o,artistData:l,trackData:c}),(0,i.jsx)(d,{timestamp:t.startTimestamp,label:"Start Time",onOptionSelect:e=>{a({...t,startTimestamp:e})}}),(0,i.jsx)(d,{timestamp:t.endTimestamp,label:"End Time",onOptionSelect:e=>{a({...t,endTimestamp:e})}}),(0,i.jsx)(n.A,{type:"submit",children:"Submit"})]})};var v=a(6544),f=a(9603),S=a(3274);const b=e=>{let{userID:t}=e;const[a,n]=(0,r.useState)({selectionType:"track"}),{setTitle:s}=(0,S.B)();(0,r.useEffect)((()=>{s("Main")}),[s]);const o=(0,i.jsx)(h,{formData:a,setFormData:e=>n(e),selectionType:a.selectionType,userID:t}),l=(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:"View Listening Patterns Over Time"}),(0,i.jsxs)("span",{className:f.A.description,children:["JaZe is a tool that you can use to display your Last.FM data. Created by J Kang in 2024, written in TypeScript. From one stats nerd to another, enjoy! Enjoy exploring, and let me know what you think! To view data, enter a selection type (artist, album, or track) and a timestamp. Then, let JaZe do the rest.",o]})]});return(0,i.jsx)(v.A,{title:"Main",userID:t,viewFrames:[{content:l,viewWidth:100}]})}},2866:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(5043);const n={button:"Button_button__RlBKX",gradientLoop:"Button_gradientLoop__gZwKe"};var s=a(579);const i=(0,r.forwardRef)(((e,t)=>{let{onClick:a,children:r,type:i="button",className:o,disabled:l=!1,dataType:c}=e;return(0,s.jsx)("button",{ref:t,type:i,className:"".concat(n.button," ").concat(o||""," ").concat(l?n.disabled:""),onClick:a,disabled:l,datatype:c,children:r})}))},6544:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var r=a(5043),n=a(8139),s=a.n(n);const i="ViewFrame_viewFrame__ZU2oo",o="ViewFrame_empty__6Vyig",l={viewSection:"ViewSection_viewSection__lYpQo"};var c=a(579);const u=e=>{let{children:t,style:a}=e;const n=0===r.Children.count(t)?l.viewSectionEmpty:l.viewSection;return(0,c.jsx)("div",{className:n,style:a,children:t})},d=e=>{let{children:t,splitPercentage:a=100}=e;const n=(0,r.useRef)(null),[l,d]=(0,r.useState)(a),[p,m]=r.Children.toArray(t).slice(0,2),y=(e=>{const t=r.Children.toArray(e);return 0===t.length||t.every((e=>r.isValidElement(e)&&e.type===r.Fragment&&0===r.Children.count(e.props.children)))})([p,m]),h=()=>{if(n.current){const e=n.current.offsetWidth,t=0,r=1800;let s=Math.max(t,Math.min(r,e*(a/100)))/e*100;d(s)}};return(0,r.useEffect)((()=>(h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h))),[a]),(0,c.jsxs)("div",{ref:n,className:s()(i,{[o]:y}),children:[(0,c.jsx)(u,{style:{width:"".concat(l,"%")},children:p}),(0,c.jsx)(u,{style:{width:"".concat(100-l,"%")},children:m})]})},p=e=>{let{viewFrames:t}=e;const a=(100-t.reduce(((e,t)=>{let{viewWidth:a}=t;return e+(a||0)}),0))/t.filter((e=>{let{viewWidth:t}=e;return void 0===t})).length;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("section",{style:{display:"flex",flexDirection:"row"},children:t.map(((e,t)=>(0,c.jsx)(d,{splitPercentage:e.viewWidth||a,children:e.content},t)))})})}},8139:(e,t)=>{var a;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=i(e,s(a)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)r.call(e,a)&&e[a]&&(t=i(t,a));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(a=function(){return n}.apply(t,[]))||(e.exports=a)}()}}]);
//# sourceMappingURL=980.1651ac07.chunk.js.map